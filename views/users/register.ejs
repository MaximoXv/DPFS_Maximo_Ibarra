<!DOCTYPE html>
<html lang="es">
<%- include("../partials/head.ejs", {style: "register" , title: "Registro" }) %>

  <body class="_body">
    <div class="_errors"></div>
    <main class="_main">
      <form action="/users/register" method="post" enctype="multipart/form-data" class="_register">
        <div class="contenido">


          <h1 class="_titulo-register">Crea una cuenta</h1>
          <span class="_texto-nuevo">Ya tienes una cuenta?
            <a class="_link-nuevo" href="/users/login">Logueate</a></span>
          <label class="_label" for="fullname">Nombre y apellido</label>
          <input class="_input" type="text" name="fullname" id="fullname"
            value="<%= locals.old?.fullname ? old.fullname : ''  %>" />
          <% if (locals.errors?.fullname) { %>
            <p class="error">
              <%= locals.errors.fullname.msg %>
            </p>
            <% } %>
              <div class="_double-input">
                <div class="_one-input">
                  <label class="_label" for="direction">Dirección</label>
                  <input class="_input" type="text" name="direction" id="direction"
                    value="<%= locals.old?.direction ? old.direction : ''  %>" />
                  <% if (locals.errors?.direction) { %>
                    <p class="error">
                      <%= locals.errors.direction.msg %>
                    </p>
                    <% } %>
                </div>
                <div class="_one-input">
                  <label class="_label" for="phonenumber">Télefono</label>
                  <input class="_input" type="tel" name="phonenumber" id="phonenumber"
                    value="<%= locals.old?.phonenumber ? old.phonenumber : ''  %>" />
                  <% if (locals.errors?.phonenumber) { %>
                    <p class="error">
                      <%= locals.errors.phonenumber.msg %>
                    </p>
                    <% } %>
                </div>
              </div>
              <label class="_label" for="email">Email</label>
              <input class="_input" type="email" name="email" id="email"
                value="<%= locals.old?.email ? old.email : ''  %>" />
              <% if (locals.errors?.email) { %>
                <p class="error">
                  <%= locals.errors.email.msg %>
                </p>
                <% } %>
                  <div class="_double-input">
                    <div class="_one-input">

                      <label class="_label" for="password">Contraseña</label>
                      <input class="_input" type="password" name="password" id="password"
                        value="<%= locals.old?.password ? old.password : ''  %>" />

                      <% if (locals.errors?.password) { %>
                        <p class="error">
                          <%= locals.errors.password.msg %>
                        </p>
                        <% } %>
                    </div>
                    <div class="_one-input">

                      <label class="_label" for="confirmPassword">Confirmar contraseña</label>
                      <input class="_input" type="password" name="confirmPassword" id="confirmPassword"
                        value="<%= locals.old?.confirmPassword ? old.confirmPassword : ''  %>" />

                      <% if (locals.errors?.confirmPassword) { %>
                        <p class="error">
                          <%= locals.errors.confirmPassword.msg %>
                        </p>
                        <% } %>
                    </div>

                  </div>
                  <label class="_label" for="profile_picture">Foto de perfil</label>
                  <input class="_input" type="file" name="profile_picture" id="profile_picture"
                    accept=".png, .jpg, .jpeg, .webp, .gif" />
                  <% if (locals.errors?.profile_picture) { %>
                    <p class="error">
                      <%= locals.errors.profile_picture.msg %>
                    </p>
                    <% } %>
                      <div class="_terminos-y-condiciones">
                        <div>

                          <input type="checkbox" name="terminosCondiciones" id="terminosCondiciones"
                            <%=locals.old?.terminosCondiciones ? (old.terminosCondiciones=="on" ? "checked" : "" ) : ''
                            %>/>

                          <span class="_texto-nuevo">Yo acepto los
                            <a class="_link-nuevo" href="/register">terminos y condiciones</a></span>
                        </div>
                        <% if (locals.errors?.terminosCondiciones) { %>
                          <p class="error">
                            <%= locals.errors.terminosCondiciones.msg %>
                          </p>
                          <% } %>
                      </div>
                      <button class="_boton-registrar">Crear cuenta</button>
                      <span class="_texto-o">o</span>
                      <div class="_google">
                        <button class="_boton-google">
                          <img class="_imagen-google" src="/images/logo_google.jpg" alt="" />
                          Registrarse con Google
                        </button>
                      </div>
        </div>
      </form>
    </main>
    <script src="https://unpkg.com/validator@latest/validator.min.js"></script>
    <script src="/js/validations/register.js"></script>
  </body>

</html>